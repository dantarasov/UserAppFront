
<div class="main">
  <div style="padding-left: 20px; padding-right: 20px">
    <form 
    *ngIf="!isSuccessful"
    name="form"
    (ngSubmit)="f.form.valid && onSubmit()"
    #f="ngForm"
    novalidate>
     
    <div class="h1">Создайте профиль</div>
    <div  class="form-group">
      <img class="img" [src]="imageURL ? imageURL: '/assets/image/stock.jpg'"  />
        <a (click)="AddinputField.click()" class="btn btn-primary tooltips" data-placement="top" data-original-title="AddInput"><i class="fa fa-plus"></i></a>   
        <input #AddinputField hidden type="file" accept=".jpeg,.jpg,.png,.svg"  class="form-control"  data-original-title="AddInput"  (change)="onFileSelected($event, 'addInput')" > 
    </div>
    <div>
        <label for="name">Имя и фамилия</label>
      <input
        class="form-control form-control-lg"
        type="text"
        name="name"
        id="name"
        placeholder="Имя и фамилия"
        [(ngModel)]="user.name"
        minlength="3"
        maxlength="20"
        #name="ngModel"
        required/>
        <div class="alert alert-danger" [hidden]="name.valid || name.pristine "> Имя должно состоять хотя бы из 3-ёх букв. </div>  
    </div>
  

    <div class="wraper_gender">
      <label for="email">Пол </label>
      <div class="wraper_gender2">
        <div class="form-check form-check-inline mb-0 me-4">
          <input
            class="form-control form-control-lg"
            type="radio"
            name="gender"
            class="form-control"
            id="gender"
            placeholder="Gender"
            [(ngModel)]="user.gender"
            #gender="ngModel"
            required
            value="Мужчина"/>
          <label class="form-check-label" for="femaleGender">Мужской</label>
        </div>

        <div class="form-check form-check-inline mb-0 me-4">
          <input
            class="form-control form-control-lg"
            type="radio"
            name="gender"
            class="form-control"
            id="gender"
            placeholder="Gender"
            [(ngModel)]="user.gender"
            #gender="ngModel"
            required
            value="Женщина"/>
          <label class="form-check-label" for="maleGender">Женский</label>
        </div>
      </div>
    </div>

    <label for="email">Адрес эл. почты</label>
    <div>
      <input
        class="form-control form-control-lg"
        type="email"
        name="email"
        [(ngModel)]="user.email"
        email
        #email="ngModel"
        id="email"
        placeholder="Адрес электронной почты"
        pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
        required/>
        <div class="alert alert-danger" [hidden]="email.valid || email.pristine ">Некорректная почта.</div>  
    </div>

    <div>
      <label for="password">Пароль</label>
      <br />
      <input
        class="form-control form-control-lg"
        style="width: 100%"
        [(ngModel)]="user.password"
        type="password"
        name="password"
        id="password"
        minlength="6"
        #password="ngModel"
        placeholder="Пароль"
        maxlength="32"
        pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%?&])[A-Za-z\d$@$!%?&]{8,}$"
        required
      />
      <div class="alert alert-danger" [hidden]="password.valid || password.pristine">Пароль должен иметь длину не менее 8 символов и включать специальные символы и цифры.</div>
    </div>
    <label for="password"> Номер телефона</label>
    <br/>

    <div>
      <input
        class="form-control form-control-lg"
        style="width: 100%"
        type="tel"
        id="phone" 
        name="phone"
        pattern="\+7\s?[\(]{0,1}9[0-9]{2}[\)]{0,1}\s?\d{3}[-]{0,1}\d{2}[-]{0,1}\d{2}"
        placeholder="+7(900)000-00-00"
        maxlength="12"
        minlength="12"
        [(ngModel)]="user.phone"
        #phone="ngModel"
        required
        />
        <div class="alert alert-danger" [hidden]="phone.valid || phone.pristine || phone.untouched">Номер телефона введён некорректно.</div>
    </div>

    <div
    style="
    text-align: center">
    
   <!-- PaSS234@DS !-->
     
     
        <button
          type="submit"
          class="btn btn-primary"
          style="
            margin-bottom: 5%;
            display: block-inline;
            width: 80%;">
          Создать
        </button>
    
      </div>
      <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
        Ошибка регистрации:<br />{{ errorMessage }}
       </div>
       </form>
       
       <div class="alert alert-success" *ngIf="isSuccessful">
        Регистрация успешна!
       </div>
  </div>
  
</div>
